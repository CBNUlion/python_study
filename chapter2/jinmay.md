# Chapter 2 - 파이 재료: 숫자, 문자열, 변수

파이썬3의 데이터 타입에 대해서 공부한다.

- 부울 - True 또는 False
- 정수
- 실수
- 문자열 - 텍스트 문자들의 시퀀스

## 2.1 변수, 이름, 객체

**파이썬에서는 모든 것이 객체로 구현**되어있으며 객체의 타입을 바꿀 수 없는 **강타입**이다. 그 값이 가변인 경우에도 타입을 바꿀 수 없다.

#### 타입 확인

변수 혹은 리터럴값의 타입을 알고 싶다면 type() 메소드를 사용하면 된다.

```python
type(3.14) # <class 'float'>
type(3) # <class 'int'>
type('abc') # <class 'str'>
```

클래스(class)는 객체의 정의를 의미하고 **class**와 **type**은 그 의미가 거의 유사하다.

## 2.2 숫자

### 2.2.1 정수

파이썬에서 나눗셈을 하는 방법에는 두 가지가 있다.

- / 나눗셈은 부동소수점을 포함한 결과를 출력한다.
- // 나눗셈은 부동소수점을 제외한 결과, 즉 정수를 출력한다.

정수를 정수로 나누더라도 / 연산자로 나누면 부동소수점을 출력한다.

```python
3 / 2 # 1.5
3 // 2 # 1
```

0으로 나누면 **예외**가 발생한다(ZeroDivisionError)

##### divmod 함수

divmod 함수의 결과는 **몫과 나머지를 튜플**의 형태로 반환한다.

### 2.2.2 우선순위

우선순위를 외우지 말고 괄호를 사용하여 혼돈을 피하자!!

### 2.2.3 진수

정수 앞에 진수(base)를 붙이지 않으면 10진수로 간주한다. 파이썬에는 10진수 외에도 세 가지 리터럴 정수를 표현할 수 있다.

- 2진수(binary) - 0b 또는 0B
- 8진수(octal) - 0o 또는 0O
- 16진수(hex) - 0x 또는 0X

10진수 이외의 다른 진수를 사용하는 빈도는 많지 않지만 **비트단위 연산**에서 유용하게 쓰인다.

### 2.2.4 형변환

데이터 타입을 변환할 수 있다. **int()** | **float()** | **str()** 함수가 있다. 직관적으로 사용할 수 있으며 int()와 float()는 숫자가 아닌 다른 뭔가를 변환하려고 하면 예외가 발생하게 된다.

```python
# 123이라는 유효한 숫자가 있지만 다른 문자에 의해 예외가 발생
int('123 is number') # ValueError

# int() 함수는 소수점이나 숫자로 이루어진 문자열을 정수형으로 변환하지만
# 소수점 또는 지수표현식으로 작성된 문자열은 변환할 수 없다
int(42.2) # 42
int('42.2') # ValueError
```

**만약 숫자의 타입을 섞어서 사용하면, 파이썬은 자동으로 형 변환을 수행한다.**

```python
1 + 23.1 # 24.1
```

숫자와 부울값을 같이 계산하는 것도 가능하다. False는 0 또는 0.0으로 True는 1 또는 1.0으로 간주한다.

```python
True + 1 # 2
False + 4.2 # 4.2
```

## 2.3 문자열

프로그래밍을 잘하기 위해서 숫자를 잘 다루는 것도 중요하지만, 대부분 개발자들이 직면하는 문제들은 문자열에 관한 것이 많다. 파이썬 2와 3의 큰 차이점 중 하나는 문자열을 다루는 방법이며 **파이썬3는 유니코드 표준을 지원하고 있다.**

### 2.3.1 인용 부호로 문자열 생성

문자열을 만드는 방법은 총 네 가지가 있다.

- ''
- ''' '''
- ""
- """ """

'''와 """ 같이 세 개의 인용 부호는 짧은 문자열에는 유용하지 않다. 일반적으로 **여러 줄의 문자열**을 만들때 사용한다.

```python
a = '''
Hi, guys!
How have u been there?
'''
```

세 개의 인용부호 안에 여러 줄이 있는 경우, **문자열 끝에 들어가 있는 라인 끝 문자가 보존된다.** 또한 양쪽 끝에 공백이 있어도 유지된다.

```python
a = '''
Hi, guys!
How have u been there?
'''

print(a)
# Hi, guys!
# How have u been there?

>>> a
# '\nHi, guys!\nHow have u been there?\n'
```

print()의 출력 결과와 인터프리터의 자동 출력 결과가 다르게 나타난다. print()는 문자열에서 인용 부호를 제거한 뒤 내용을 출력하며, 인터프리터는 자동으로 출력하기 때문이다.

출력할 것들 사이의 공백과 줄바꿈을 유용하게 추가할 수 있다.

```python
print('hi,', 'guys') # hi, guys
```

인용 부호를 통해 빈 문자열을 만들 수 있다.

```python
''
""
''''''
""""""
```

빈 문자열은 여러 문자열을 하나의 문자열로 합칠때 유용하게 사용된다.

```python
bottles = 99
base = ''
base += 'current: '
base += str(bottles)
base # 'current: 99'
```

### 2.3.2 데이터 타입 변환: str()

str() 함수를 이용해서 데이터 타입을 문자열로 바꿀 수 있다. **문자열이 아닌 객체를 print()로 호출할 때, 파이썬은 내부적으로 str() 함수를 사용한다.** 그리고 변수나 상수를 문자열 안에 삽입하는 문자열 보간을 할 때도 내부적으로 사용한다.

```python
# 문자열이 아닌 객체를 print() 하는 경우
>>> class A():
...     def __str__(self):
...             return 'haha'
...
>>> a = A()
>>> print(a)
haha
```

### 2.3.3 이스케이프 문자

문자 앞에 백슬래시(**\\**)를 둠으로써 문자에 특별한 의미를 줄 수 있다. 가장 일반적으로 볼 수 있는 이스케이프 문자는 줄바꿈을 의미하는 \n가 있다. **\n 이스케이프 문자를 통해서 한 줄의 문자열을 여러 줄의 문자열로 만들 수 있다.**

### 2.3.4 결합: +

\+ 연산자를 사용하여 리터럴 문자열 또는 문자열 변수를 결합할 수 있다.

```python
'a' + '1' # 'a1'
```

파이썬은 문자열을 결합할때 공백을 자동으로 붙이지 않는다. 그래서 공백이 필요한 경우 개별적으로 넣어 주어야 한다.

```python
'hello' + 'world' # 'helloworld'
'hello ' + 'world' # 'hello world'
```

### 2.3.5 복제하기: \*

\* 연산자를 통해 문자열 복제가 가능하다.

```python
'ha' * 4 # 'hahahaha'
```

### 2.3.6 문자 추출: []

문자열에서 한 문자를 얻기 위해서 오프셋을 사용한다.

```python
letters = 'abcde'
letters[3] = 'd'
letters[-1] = 'e'
```

만약 존재하지 않는 오프셋을 참조하게 되면 IndexError 예외가 발생한다. **오프셋을 통해 시퀀스를 참조하는 것을 인덱싱이라고 하는데 다른 시퀀스 타입(리스트와 튜플)에도 동일하게 동작한다.**

문자열의 큰 특징으로 - 불변하다는 것이 있다. 때문에 특정 인덱스에 문자를 삽입하거나 변경할 수 없다.

```python
'abcd'[2] = '123' # TypeError 예외 발생
```

대신 replace() 함수와 슬라이스를 사용해서 문자열을 바꿔야한다.

```python
name = 'Henny'
name.replace('H', 'P') # Penny
'P' + name[1:] # Penny
```

### 2.3.7 슬라이스: [start:end:step]

슬라이스를 사용해서 문자열의 일부를 추출할 수 있다. 대괄호 안의 start / end / step 중 일부는 생략도 가능하며 슬라이스는 오프셋의 start와 end-1 사이의 문자를 포함한다.

> [:] 처음부터 끝까지 추출
>
> [start: ] start 오프셋부터 끝까지 추출
>
> [ :end] 처음부터 end-1 오프셋까지 추출
>
> [start:end:step] step만큼 건너뛰면서 start 부터 end-1 까지 추출
>
> [::-1] 역순으로 추출

### 2.3.8 문자열 길이: len()

파이썬의 내장 함수이며 문자열의 길이 또는 자료의 개수를 반환한다.

```python
len('abcde') # 5
len([1, 2, 3, 4, 5]) # 5
```

### 2.3.9 문자열 나누기: split()

문자열 타입에서만 사용할 수 있는 함수이다. string.split()의 형태로 사용해야 한다. split()의 인자로 들어오는 구분자를 기준으로 string(문자열)을 리스트로 만든다.

```python
'hello, world'.split(',') # ['hello', 'world']
'hello, world'.split() # ['hello', 'world']
```

### 2.3.10 문자열로 결합하기: join()

split() 함수와 반대로 문자열 리스트를 하나의 문자열로 조합한다. string.join(list)의 형태로 사용해야 한다.

```python
' '.join(['hello', 'world']) # 'hello world'
```
