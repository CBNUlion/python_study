# Chapter 5 - 파이 포장하기 : 모듈, 패키지, 프로그램

이 장에서는 현실적이고 큰 프로그램을 작성하는 방법을 배운다.

## 5.1 스탠드얼론 프로그램

 >stand-alone[스탠드 얼론] : 다른 어떤 장치의 도움도 필요 없이 그것만으로 완비된 장치

## 5.2 커맨드 인자

## 5.3 모듈과 import 문

> 모듈(module) : 파이썬 코드 파일, 사람들이 많이 사용하는 코드를 미리 만들어서 사용할 수 있게 함.

## 5.3.1 모듈 임포트 하기

모듈 : .py를 빼고 쓰는 파이썬 파일의 이름

모듈을 임포트하는 방식은 크게 두 가지로 이루어진다.
1. 모듈 전체를 import 했을 경우 **모듈이름.모듈객체이름** 형식으로 모듈 내의 모듈 객체를 메인 프로그램에서 사용할 수 있다.
```python
import report

report.get_description()
#위와 같은 ㅂ아식은 모듈 이름으로 내용을 한정하고 정리, 불필요한 네이밍 충돌을 피할 수 있다.
```

2. 함수 내에서 호출하고 사용할 수 있다.
```python
def test():
    from random import choice
    num = ['1', '2', '3']
    return choice(num)
 ```
 
 안정성을 따질 경우 첫 번째 방법을 선택하는 것이 좋다. 단지, 약간의 입력을 더욱 필요로 한다. 또한, 만약 임포트한 코드를 여러 곳에서 사용할 경우 import 문을 함수 밖으로 빼놓아야한다.


## 5.3.2 다른 이름으로 모듈 임포트하기
> 앨리어스(alias) : 별명
모듈 전체를 임포트 해줄 때나 모듈 내의 특정 객체만 임포트 해줄 때 alias를 이용해 이름을 새로 지정해줄 수 있다. 네이밍 충돌 방지에 좋음
> 사용법 : import 모듈 as 별명

## 5.3.3 필요한 모듈만 임포트하기
> 사용법 : from 모듈 import 모듈객체 as 별명

## 5.3.4 모듈 검색 경로
파이썬의 모듈 검색은 디렉터리 이름의 리스트와 표준 sys 모듈에 저장되어 있는 ZIP 아카이브 파일을 변수 path로 사용한다.
```python
import sys

for place in sys.path:
    print(place)
# 현재 경로에서 가장 먼저 임포트한 파일이 있는 지 확인 후 zip 파일을 다음 순서로 찾는다.
```
위의 코드를 타이핑 했을 때 나오는 항목들이 검색 경로이다.

검색 경로 앞 부분에 기존에 있는 모듈과 같은 이름의 우리가 정의한 이름의 모듈이 있다면 기존에 있는 모듈을 사용할 수 없다.

**참조** 
1. 프로그램이 실행된 디렉토리내에서 모듈을 찾는다.
2. PYTHONPATH 라는 환경변수에 지정된 디렉토리에서 찾습니다.
3. 파이썬 라이브러리 디렉토리에서 찾습니다. 이곳은 파이썬을 설치한곳 아래 Lib 디렉토리 입니다.

## 5.4 패키지
파이썬 애플리케이션을 좀 더 확장 가능하게 만들기 위해 모듈을 **패키지(package)**라는 파일 계층 구조에 구성할 수 있다.

파이썬에서는 __init__.py 파일을 포함하는 디렉터리를 패키지로 간주한다.

> for 문에서 enumerate() 함수는 리스트와 리스트 항목의 시작 인덱스를 취한다. , zip()은 두 가지 시퀀스를 확인하는 것이고 enumerate()는 리스트 내에 항목과 인덱스를 참조)

## 5.5 파이썬 표준 라이브러리
파이썬의 장점 : 많은 표준 라이브러리 모듈
//파이썬 코드를 작성할 때는 원하는 기능이 표준 모듈에 있는 지 확인하는 것이 좋다.

이번 절에서는 제네릭(generic)을 사용할 수 있는 일부 모듈 확인.

>제네릭 : 제너릭 프로그래밍이라는 게 정확히 뭘 의미하는지 정의 자체가 모호하지만, 보통은 데이타 타입이 바뀐다고 코드를 몽땅 중복하지 않아도 되고 최대한 같은 루틴을 재사용하는 그러한 프로그래밍 방법

## 5.5.1 누락된 키 처리하기: setdefault(), defaultdict()
존재하지 않는 키로 딕셔너리에 접근하려 하면 예외가 발생한다. 딕셔너리의 get()을 사용해 예외를 피할 수 있다.

setdefault()를 사용하면 get()과 같은 역할을 하지만 키가 없는 경우 새 값으로 등록된다.

defaultdict() 또한 유사하지만 다른 점은 딕셔너리를 생성할 때 모든 새 키에 대한 기본값을 먼저 지정한다. 이 함수의 인자는 함수다.
defaultdict()의 인자는 값을 누락된 키에 값을 할당하여 반환하는 함수이다.
lambda를 사용하여 인자에 기본값을 만드는 함수를 정의할 수 있다.

## 5.5.2 항목 세기: Counter()
항목을 셀 수 있는 함수가 여러 개 있다.
카운터들의 동작 방식은 3장에서 진행한 셋(set)과 유사하다.

## 5.5.3 키 정렬하기: OrderedDict()
딕셔너리의 키 순서는 예측할 수 없다.
OrderdeDict()를 통해 키 추가 순서를 기억, 이터레이터로부터 순서대로 키 값을 반환한다.

## 5.5.4 스택 + 큐 == 데크
데크(deque)는 스택과 큐의 기능을 모두 가진 큐. 
회문 확인 가능 : 회문인지 확인하기 위해 양쪽 끝에서 중간까지 문자 확인(?)

## 5.5.5 코드 구조 순회하기: itertools
itertools는 특수 목적의 이터레이터 함수를 포함

**why use?**
>The module standardizes a core set of fast, memory efficient tools that are useful by themselves or in combination.

**시간 단축**을 위한 조합(combination)과 순열(permutation)에 대한 더 많은 함수 제공

## 5.5.6 깔끔하게 출력하기: pprint()
가독성을 위해 요소들을 정렬하여 출력

## 5.6 배터리 장착: 다른 파이썬 코드 가져오기
표준 라이브러리에 원하는 모듈이 없거나 예상대로 동작하지 않을 때, 써드파티 오픈소스에 대안이 있다.

| 대안 |
| ----- |
| PyPI |
| github |
| readthedocs |